<div class="col-md-4"></div>
<div class="col-md-4">
  <div class="alert alert-success" role="alert" *ngIf="successfulSave">
    You have registered successfully!
  </div>

  <form class="form-horizontal" [formGroup]="checkoutForm" style="text-align: center" (ngSubmit)="onSubmit()">
    <h4>Check out</h4>
    <hr />
    <div *ngIf="!auth.isAuthenticated()">
      <div class="form-group">
        <label class="col-md-2 control-label">First Name</label>
        <div class="col-md-8">
          <input id="firstName" type="text" class="form-control" formControlName="firstName" required />
        </div>
      </div>
      <div *ngIf="firstName.invalid && (firstName.dirty)"
           class="alert alert-danger">

        <div *ngIf="firstName.errors.required">
          Username is required.
        </div>
        <div *ngIf="firstName.errors.minlength">
          Username must be at least 4 characters long.
        </div>

      </div>
      <div class="form-group">
        <label class="col-md-2 control-label">Last Name</label>
        <div class="col-md-8">
          <input type="text" name="lastName" class="form-control" formControlName="lastName" required />
        </div>
      </div>
      <div *ngIf="lastName.invalid && (lastName.dirty)"
           class="alert alert-danger">

        <div *ngIf="lastName.errors.required">
          first name is required.
        </div>

      </div>
    </div>
    <div class="form-group">
      <label class="col-md-2 control-label">Credit Card Number</label>
      <div class="col-md-8">
        <input type="text" name="ccNumber" class="form-control" formControlName="ccNumber" required maxlength="16" />
      </div>
    </div>
    <div *ngIf="ccNumber.invalid && (ccNumber.dirty)"
         class="alert alert-danger">

      <div *ngIf="ccNumber.errors.required">
        Credit Card Number is required.
      </div>

      <div *ngIf="ccNumber.errors.minlength">
        Credit Card must have 16 digits.
      </div>

    </div>

    <div class="form-group">
      <label class="col-md-2 control-label">Expire Date(mm/yyyy)</label>
      <div class="col-md-1">
        <select>
          <option *ngFor="let month of months">{{month}}</option>
        </select>

      </div>
      <div class="col-md-1">
        <select>
          <option *ngFor="let year of years">{{year}}</option>
        </select>
      </div>
    </div>


    <div class="form-group">
      <label class="col-md-2 control-label">CVV</label>
      <div class="col-md-8">
        <input id="cvv" type="text" class="form-control" formControlName="cvv" required maxlength="3" />
      </div>
    </div>
    <div *ngIf="cvv.invalid && (cvv.dirty)"
         class="alert alert-danger">

      <div *ngIf="cvv.errors.required">
        CVV is required.
      </div>
      <div *ngIf="cvv.errors.minlength">
        CVV must have exactly 3 digits
      </div>

    </div>
    <div class="form-group">
      <label class="col-md-2 control-label">Total Price</label>
      <div class="col-md-8">
        <input type = "text" class="form-control" disabled ="disabled" [value] ="storage.getTotalPrice()"/>
      </div>
    </div>

    <div class="form-group">
      <label class="col-md-2 control-label">Selected Seats</label>
      <div class="col-md-8">
        <input type = "text" class="form-control" disabled ="disabled" [value] ="storage.getSeats()"/>
      </div>
    </div>

    <div class="form-group">
      <div class="col-md-offset-2 col-md-10">
        <input type="submit" class="btn btn-default" value="Order" [disabled]="!checkoutForm.valid" />
      </div>
    </div>
  </form>
</div>

